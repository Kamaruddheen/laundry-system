{% extends 'base_layout.html' %}
{% load static %}

{% block title %}
<title>Launder land | Payment History</title>
{% endblock %}

{% block content %}

<body>
    <!-- ? Title -->
    <article class="bg_light_orange_2 container-fluid py-2">
        <section class="pr-md-auto pl-md-5 text-center text-md-left">
            <h3 class="brown mb-0 clamp_size_header">List of Payments</h3>
        </section>
    </article>
    <!-- ? List of Payments -->
    <article class="container my-2">
        <section class="card shadow-sm my-3 w-100">
            <div class="card-body p-0">
                {% if payments %}
                <div class="table-responsive table-wrapper">
                    <table class="table table-hover mb-0 brown">
                        <!-- * Table Header -->
                        <thead class="bg_light_orange_2">
                            <tr>
                                <th scope="col">No.</th>
                                <th scope="col">Order id</th>
                                {% if user.user_type == 1 %}
                                <th scope="col">Customer</th>
                                {% endif %}
                                <th scope="col">Mode of Payment</th>
                                <th scope="col">Paid Date</th>
                                <th scope="col">Paid Amount</th>
                                <th scope="col">Status</th>
                            </tr>
                        </thead>
                        <!-- * Table Content -->
                        <tbody>
                            {% for data in payments %}
                            <tr>
                                {% if forloop %}
                                <th>{{forloop.counter}}</a>
                                </th>
                                {% endif %}
                                <td>{{ data.booking_id.id }}</td>
                                {% if user.user_type == 1 %}
                                <td>{{ data.cust_id }}</td>
                                {% endif %}
                                <td>{{ data.payment_mode }}</td>
                                <td>{{ data.paid_date }}</td>
                                <td>&#x20B9; {{ data.paid_amount|default:"-----" }}</td>
                                <td>
                                    <span class="badge rounded-pill mb-0 badge-success">{{ data.status }}</span>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                <div class="row d-flex justify-content-center align-items-center" style="height: 50vh;">
                    <h4 class="bold brown">You haven't done any payment yet!!</h4>
                </div>
                {% endif %}
            </div>
        </section>
    </article>
</body>

{% endblock %}